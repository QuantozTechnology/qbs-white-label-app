@page "/deeplinks/paymentrequests/{code}"

@attribute [AllowAnonymous]
@inject IConfiguration Configuration
@inject NavigationManager Navigation

<h3>Redirecting...</h3>

@code {
    [Parameter]
    public string? Code { get; set; }

    protected override Task OnInitializedAsync()
    {
        if (!string.IsNullOrWhiteSpace(Code))
        {
            var url = Configuration["Portal:Deeplinks:PaymentRequests"];

            if (!string.IsNullOrWhiteSpace(url))
            {
                Navigation.NavigateTo(String.Format(url, Code));
            }
        }

        return Task.FromResult(true);
    }
}
